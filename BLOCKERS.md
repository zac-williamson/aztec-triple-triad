# Blockers & Issues Log

## 2026-02-24 - Grumpkin curve operations not available in Noir stdlib (FIX-3)
**Status:** OPEN
**Severity:** MEDIUM
**Description:** FIX-3 requires ECDH key pair generation on the Grumpkin curve within the prove_hand circuit. Noir's standard library does not provide readily available Grumpkin curve scalar multiplication operations (G * scalar). This would be needed for encrypted card nullifier communication between players.
**Attempted solutions:** Reviewed Noir stdlib documentation. Grumpkin operations require custom implementation or a library.
**Resolution/Workaround:** Deferred to a later phase. The core security model (card_commit binding, capture validation) works without ECDH. Card nullifier encryption can be handled at the application layer using JavaScript crypto libraries, with the circuit only verifying the commitment.

## 2026-02-24 - Barretenberg (bb) native binary requires GLIBC 2.38/2.39 (FIX-4)
**Status:** WORKAROUND
**Severity:** HIGH
**Description:** The `aztec compile` command uses the native `bb` (Barretenberg) binary for postprocessing contracts (generating verification keys and transpiled artifacts). This binary requires GLIBC 2.38 and 2.39, but the EC2 instance (Amazon Linux 2023) only has GLIBC 2.34. Error: `/lib64/libc.so.6: version 'GLIBC_2.39' not found`.
**Attempted solutions:**
1. Installed aztec CLI v4.0.0-devnet.2-patch.0 from cached aztec-install script
2. Verified nargo compilation succeeds (both circuits and contracts)
3. Only the bb postprocessing step fails
**Resolution/Workaround:** The Noir compilation itself succeeds for all contracts and circuits. The JSON artifacts are generated by nargo. The bb postprocessing (VK generation, transpilation) requires a system with GLIBC >= 2.39 (e.g., Ubuntu 24.04, Debian 13). For local development, contracts can be compiled with `nargo compile` in the contracts directory. Full `aztec compile` (with VK generation) must be done on a compatible system or in the Aztec Docker container. The contract code is correct and compile-ready.
